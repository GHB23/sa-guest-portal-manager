<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA Guest Portal Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c6fd4;
            --secondary-color: #f8f9fa;
            --accent-color: #25D366;
            --text-color: #333;
            --light-text: #6c757d;
            --border-radius: 12px;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin: 20px auto;
        }
        
        .header {
            background: var(--primary-color);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .logo {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .dashboard {
            padding: 25px;
        }
        
        .nav-pills .nav-link.active {
            background-color: var(--primary-color);
        }
        
        .stats-card {
            background: var(--secondary-color);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .stats-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .property-card {
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.3s;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .btn-whatsapp {
            background: var(--accent-color);
            color: white;
            font-weight: bold;
            padding: 12px 20px;
            border-radius: 50px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            margin: 10px 0;
        }
        
        .btn-whatsapp:hover {
            background: #128C7E;
            color: white;
        }
        
        .pricing-card {
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
            margin-bottom: 20px;
        }
        
        .pricing-card:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .pricing-card.featured {
            border: 2px solid var(--primary-color);
            position: relative;
        }
        
        .pricing-card.featured::before {
            content: "Most Popular";
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .price {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 15px 0;
        }
        
        .report-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: var(--light-text);
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }
        
        .tab-content {
            padding: 20px 0;
        }
        
        .integration-card {
            border-left: 4px solid #4CAF50;
        }
        
        .table th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .auth-container {
            max-width: 400px;
            margin: 50px auto;
            padding: 30px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .user-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--accent-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        .guide-container {
            background: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 20px 0;
        }
        
        .guide-step {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #ccc;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <i class="fas fa-home"></i>
            </div>
            <h1>SA Guest Portal Manager</h1>
            <p>Multi-property solution with role-based access control</p>
            
            <div class="user-badge">
                <span id="current-user-role">Not Logged In</span>
                <button id="logout-btn" class="btn btn-sm btn-light ms-2 d-none">Logout</button>
            </div>
        </div>
        
        <!-- Authentication Forms -->
        <div id="auth-forms">
            <div class="auth-container">
                <ul class="nav nav-pills mb-4 justify-content-center" id="authTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab">Login</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab">Register</button>
                    </li>
                </ul>
                
                <div class="tab-content" id="authTabContent">
                    <div class="tab-pane fade show active" id="login" role="tabpanel">
                        <div class="mb-3">
                            <label for="login-email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="login-email" placeholder="Your email">
                        </div>
                        <div class="mb-3">
                            <label for="login-password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="login-password" placeholder="Your password">
                        </div>
                        <div class="mb-3">
                            <label for="login-role" class="form-label">Role</label>
                            <select class="form-select" id="login-role">
                                <option value="guest">Guest</option>
                                <option value="host">Host</option>
                                <option value="admin">Admin</option>
                                <option value="superadmin">Super Admin</option>
                            </select>
                        </div>
                        <button id="login-btn" class="btn btn-primary w-100">Login</button>
                    </div>
                    
                    <div class="tab-pane fade" id="register" role="tabpanel">
                        <div class="mb-3">
                            <label for="register-name" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="register-name" placeholder="Your full name">
                        </div>
                        <div class="mb-3">
                            <label for="register-email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="register-email" placeholder="Your email">
                        </div>
                        <div class="mb-3">
                            <label for="register-password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="register-password" placeholder="Create a password">
                        </div>
                        <div class="mb-3">
                            <label for="register-role" class="form-label">Role</label>
                            <select class="form-select" id="register-role">
                                <option value="guest">Guest</option>
                                <option value="host">Host</option>
                            </select>
                        </div>
                        <button id="register-btn" class="btn btn-success w-100">Register</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Dashboard (initially hidden) -->
        <div id="main-dashboard" class="d-none">
            <div class="dashboard">
                <ul class="nav nav-pills mb-4 justify-content-center" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard-content" type="button" role="tab">Dashboard</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="properties-tab" data-bs-toggle="tab" data-bs-target="#properties-content" type="button" role="tab">Properties</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="integration-tab" data-bs-toggle="tab" data-bs-target="#integration-content" type="button" role="tab">Integration</button>
                    </li>
                    <li class="nav-item d-none" id="admin-tab-item" role="presentation">
                        <button class="nav-link" id="admin-tab" data-bs-toggle="tab" data-bs-target="#admin-content" type="button" role="tab">Admin</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="reports-tab" data-bs-toggle="tab" data-bs-target="#reports-content" type="button" role="tab">Reports</button>
                    </li>
                </ul>
                
                <div class="tab-content" id="myTabContent">
                    <!-- Dashboard Tab -->
                    <div class="tab-pane fade show active" id="dashboard-content" role="tabpanel">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <i class="fas fa-home fa-2x text-primary"></i>
                                    <h3>Properties</h3>
                                    <div class="stats-number">12</div>
                                    <p class="text-muted">Managed</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <i class="fas fa-users fa-2x text-primary"></i>
                                    <h3>Guests</h3>
                                    <div class="stats-number">84</div>
                                    <p class="text-muted">This month</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <i class="fas fa-qrcode fa-2x text-primary"></i>
                                    <h3>QR Scans</h3>
                                    <div class="stats-number">127</div>
                                    <p class="text-muted">This month</p>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="stats-card">
                                    <i class="fas fa-comments fa-2x text-primary"></i>
                                    <h3>Messages</h3>
                                    <div class="stats-number">56</div>
                                    <p class="text-muted">Via WhatsApp</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="report-card">
                                    <h4>Recent Activity</h4>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>New booking at Sea View Apartment</span>
                                            <small class="text-muted">2 hours ago</small>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>QR code scanned at Mountain Lodge</span>
                                            <small class="text-muted">5 hours ago</small>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>Wi-Fi password requested at City Loft</span>
                                            <small class="text-muted">Yesterday</small>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>Monthly report generated</span>
                                            <small class="text-muted">3 days ago</small>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="report-card">
                                    <h4>Quick Actions</h4>
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-primary btn-lg">
                                            <i class="fas fa-plus"></i> Add New Property
                                        </button>
                                        <button class="btn btn-outline-primary">
                                            <i class="fas fa-file-pdf"></i> Generate Report
                                        </button>
                                        <button class="btn btn-outline-primary">
                                            <i class="fas fa-envelope"></i> Email Clients
                                        </button>
                                        <button class="btn btn-outline-primary">
                                            <i class="fas fa-qrcode"></i> Generate QR Codes
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Properties Tab -->
                    <div class="tab-pane fade" id="properties-content" role="tabpanel">
                        <h3 class="mb-4">Available Properties</h3>
                        <div class="row" id="properties-list">
                            <!-- Properties will be dynamically added here -->
                        </div>
                    </div>
                    
                    <!-- Integration Tab -->
                    <div class="tab-pane fade" id="integration-content" role="tabpanel">
                        <h3 class="mb-4">Google Sheets Integration Guide</h3>
                        
                        <div class="guide-container">
                            <div class="guide-step">
                                <h5>1. Create Your Google Sheet</h5>
                                <p>Set up a new Google Sheet with the following columns:</p>
                                <div class="table-responsive">
                                    <table class="table table-bordered table-sm">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Column Name</th>
                                                <th>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr><td>Property Name</td><td>Name of the apartment/guest house</td></tr>
                                            <tr><td>Address</td><td>Full physical address</td></tr>
                                            <tr><td>WhatsApp Number</td><td>Contact number for verification</td></tr>
                                            <tr><td>Check-in Date</td><td>Guest arrival date</td></tr>
                                            <tr><td>Check-out Date</td><td>Guest departure date</td></tr>
                                            <tr><td>WiFi Network</td><td>Network name for the property</td></tr>
                                            <tr><td>WiFi Password</td><td>Network password</td></tr>
                                            <tr><td>Owner Email</td><td>Property owner's email for reports</td></tr>
                                            <tr><td>Status</td><td>Active/Inactive</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="guide-step">
                                <h5>2. Set Up Google Apps Script</h5>
                                <p>Create a script to expose your sheet data as a web API:</p>
                                <ol>
                                    <li>Open your Google Sheet</li>
                                    <li>Click on "Extensions" > "Apps Script"</li>
                                    <li>Create a new script with functions to read/write data</li>
                                    <li>Deploy it as a Web App with appropriate permissions</li>
                                </ol>
                            </div>
                            
                            <div class="guide-step">
                                <h5>3. Integrate with Your Portal</h5>
                                <p>Connect your guest portal to the API using JavaScript:</p>
                                <pre><code>// Example function to fetch data from Google Sheets
async function fetchSheetData() {
    const sheetUrl = 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL';
    try {
        const response = await fetch(sheetUrl);
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error fetching data:', error);
    }
}</code></pre>
                            </div>
                            
                            <div class="guide-step">
                                <h5>4. Test the System</h5>
                                <p>Verify that QR codes work correctly and data is being retrieved properly.</p>
                                <p>For a complete implementation, you'll need to:</p>
                                <ul>
                                    <li>Create API endpoints for each operation (read, write, update)</li>
                                    <li>Implement error handling</li>
                                    <li>Add security measures to protect your data</li>
                                    <li>Set up automated reporting functions</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Admin Tab -->
                    <div class="tab-pane fade" id="admin-content" role="tabpanel">
                        <h3 class="mb-4">Admin Panel</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="report-card">
                                    <h4>User Management</h4>
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Email</th>
                                                    <th>Role</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>John Smith</td>
                                                    <td>john@example.com</td>
                                                    <td><span class="badge bg-info">Host</span></td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-primary">Edit</button>
                                                        <button class="btn btn-sm btn-outline-danger">Delete</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Sarah Johnson</td>
                                                    <td>sarah@example.com</td>
                                                    <td><span class="badge bg-success">Guest</span></td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-primary">Edit</button>
                                                        <button class="btn btn-sm btn-outline-danger">Delete</button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Mike Wilson</td>
                                                    <td>mike@example.com</td>
                                                    <td><span class="badge bg-warning">Admin</span></td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-primary">Edit</button>
                                                        <button class="btn btn-sm btn-outline-danger">Delete</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="report-card">
                                    <h4>System Settings</h4>
                                    <div class="mb-3">
                                        <label class="form-label">Default Report Frequency</label>
                                        <select class="form-select">
                                            <option>Daily</option>
                                            <option selected>Weekly</option>
                                            <option>Monthly</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Auto-backup Frequency</label>
                                        <select class="form-select">
                                            <option>Daily</option>
                                            <option selected>Weekly</option>
                                            <option>Monthly</option>
                                        </select>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="email-notifications" checked>
                                        <label class="form-check-label" for="email-notifications">Enable Email Notifications</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="sms-notifications">
                                        <label class="form-check-label" for="sms-notifications">Enable SMS Notifications</label>
                                    </div>
                                    <button class="btn btn-primary">Save Settings</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reports Tab -->
                    <div class="tab-pane fade" id="reports-content" role="tabpanel">
                        <h3 class="mb-4">Automated Reporting</h3>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="report-card">
                                    <h4><i class="fas fa-calendar-week"></i> Scheduled Reports</h4>
                                    <p>Automatically generate and send reports to property owners on a schedule that works for them.</p>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">Report Frequency</label>
                                        <select class="form-select">
                                            <option>Weekly</option>
                                            <option selected>Monthly</option>
                                            <option>Quarterly</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">Report Format</label>
                                        <select class="form-select">
                                            <option>PDF</option>
                                            <option selected>Excel</option>
                                            <option>Web Link</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="includeCharts" checked>
                                        <label class="form-check-label" for="includeCharts">Include charts and graphs</label>
                                    </div>
                                    
                                    <button class="btn btn-primary">Save Reporting Preferences</button>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="report-card">
                                    <h4><i class="fas fa-chart-bar"></i> Sample Report Data</h4>
                                    <p>Here's what property owners will see in their automated reports:</p>
                                    
                                    <div class="table-responsive">
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Metric</th>
                                                    <th>Sea View Apt</th>
                                                    <th>Mountain Lodge</th>
                                                    <th>City Loft</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>QR Scans</td>
                                                    <td>18</td>
                                                    <td>14</td>
                                                    <td>15</td>
                                                </tr>
                                                <tr>
                                                    <td>Guest Messages</td>
                                                    <td>12</td>
                                                    <td>8</td>
                                                    <td>10</td>
                                                </tr>
                                                <tr>
                                                    <td>Wi-Fi Requests</td>
                                                    <td>15</td>
                                                    <td>11</td>
                                                    <td>13</td>
                                                </tr>
                                                <tr>
                                                    <td>Check-in Issues</td>
                                                    <td>2</td>
                                                    <td>1</td>
                                                    <td>3</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <div class="d-flex gap-2 mt-3">
                                        <button class="btn btn-outline-primary">
                                            <i class="fas fa-eye"></i> Preview Report
                                        </button>
                                        <button class="btn btn-outline-success">
                                            <i class="fas fa-envelope"></i> Send Test Email
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>© 2023 SA Guest Portal Manager. A comprehensive solution for South African accommodation providers.</p>
            <p class="text-muted">Role-based access control with Google Sheets integration.</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample property data
        const properties = [
            {
                id: 1,
                name: "Sea View Apartment",
                location: "Cape Town, Waterfront",
                guestsThisMonth: 12,
                qrScans: 18,
                status: "Active",
                description: "Luxury apartment with stunning ocean views",
                price: 1200,
                available: true
            },
            {
                id: 2,
                name: "Mountain Lodge",
                location: "Drakensberg, Kwazulu-Natal",
                guestsThisMonth: 8,
                qrScans: 14,
                status: "Active",
                description: "Cozy lodge with mountain views and hiking trails",
                price: 850,
                available: true
            },
            {
                id: 3,
                name: "City Loft",
                location: "Johannesburg, Sandton",
                guestsThisMonth: 10,
                qrScans: 15,
                status: "Active",
                description: "Modern loft in the heart of the city",
                price: 950,
                available: false
            },
            {
                id: 4,
                name: "Wine Estate Cottage",
                location: "Stellenbosch, Winelands",
                guestsThisMonth: 0,
                qrScans: 0,
                status: "Setup",
                description: "Charming cottage on a working wine estate",
                price: 1100,
                available: true
            }
        ];

        // Current user state
        let currentUser = null;

        // DOM elements
        const authForms = document.getElementById('auth-forms');
        const mainDashboard = document.getElementById('main-dashboard');
        const currentUserRole = document.getElementById('current-user-role');
        const logoutBtn = document.getElementById('logout-btn');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const adminTabItem = document.getElementById('admin-tab-item');
        const propertiesList = document.getElementById('properties-list');

        // Initialize properties list
        function renderProperties() {
            propertiesList.innerHTML = '';
            properties.forEach(property => {
                const col = document.createElement('div');
                col.className = 'col-md-6';
                col.innerHTML = `
                    <div class="property-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <h4>${property.name}</h4>
                            <span class="badge bg-${property.status === 'Active' ? 'success' : 'warning'}">${property.status}</span>
                        </div>
                        <p class="text-muted">${property.location}</p>
                        <p>${property.description}</p>
                        <div class="row mb-3">
                            <div class="col-6">
                                <strong>Price:</strong> R${property.price}/night
                            </div>
                            <div class="col-6">
                                <strong>Availability:</strong> ${property.available ? 'Available' : 'Booked'}
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-6">
                                <strong>Guests this month:</strong> ${property.guestsThisMonth}
                            </div>
                            <div class="col-6">
                                <strong>QR Scans:</strong> ${property.qrScans}
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <button class="btn btn-sm btn-outline-primary">View Details</button>
                            ${currentUser?.role === 'guest' ? 
                                `<button class="btn btn-sm btn-success ${property.available ? '' : 'disabled'}">Book Now</button>` : 
                                `<button class="btn btn-sm btn-outline-secondary">Generate QR</button>`
                            }
                            ${currentUser?.role === 'host' || currentUser?.role === 'admin' || currentUser?.role === 'superadmin' ? 
                                `<button class="btn btn-sm btn-outline-info">Reports</button>` : ''
                            }
                        </div>
                    </div>
                `;
                propertiesList.appendChild(col);
            });
        }

        // Login function
        loginBtn.addEventListener('click', function() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const role = document.getElementById('login-role').value;
            
            if (email && password) {
                // Simulate login - in a real app, this would verify against a database
                currentUser = {
                    email,
                    role,
                    name: role === 'superadmin' ? 'Super Admin' : 
                          role === 'admin' ? 'Admin User' :
                          role === 'host' ? 'Property Host' : 'Guest User'
                };
                
                // Update UI
                currentUserRole.textContent = currentUser.role;
                logoutBtn.classList.remove('d-none');
                authForms.classList.add('d-none');
                mainDashboard.classList.remove('d-none');
                
                // Show/hide admin tab based on role
                if (currentUser.role === 'admin' || currentUser.role === 'superadmin') {
                    adminTabItem.classList.remove('d-none');
                } else {
                    adminTabItem.classList.add('d-none');
                }
                
                // Render properties based on user role
                renderProperties();
                
                // Show welcome message
                alert(`Welcome, ${currentUser.name}! You are logged in as ${currentUser.role}.`);
            } else {
                alert('Please enter both email and password.');
            }
        });

        // Register function
        registerBtn.addEventListener('click', function() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const role = document.getElementById('register-role').value;
            
            if (name && email && password) {
                // Simulate registration - in a real app, this would save to a database
                alert(`Registration successful for ${name} as ${role}. You can now login.`);
                
                // Switch to login tab
                document.getElementById('login-tab').click();
                
                // Pre-fill login form
                document.getElementById('login-email').value = email;
                document.getElementById('login-password').value = password;
                document.getElementById('login-role').value = role;
            } else {
                alert('Please fill all registration fields.');
            }
        });

        // Logout function
        logoutBtn.addEventListener('click', function() {
            currentUser = null;
            currentUserRole.textContent = 'Not Logged In';
            logoutBtn.classList.add('d-none');
            authForms.classList.remove('d-none');
            mainDashboard.classList.add('d-none');
            
            // Clear form fields
            document.getElementById('login-email').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('login-role').value = 'guest';
            
            alert('You have been logged out.');
        });

        // Initialize properties list for non-logged in users
        renderProperties();
    </script>
</body>
</html>